# Evidence Guide

Sentinel does not manage evidence capture. Playwright handles all evidence natively through `playwright.config.ts` configuration.

## Playwright-Native Evidence

### Screenshots

Configured in `playwright.config.ts`:

```typescript
use: {
  screenshot: 'only-on-failure', // or 'on', 'off'
}
```

Saved to `test-results/` directory automatically.

### Traces

```typescript
use: {
  trace: 'on-first-retry', // or 'on', 'off', 'retain-on-failure'
}
```

Trace files can be viewed with `npx playwright show-trace <trace.zip>`.

### Video

```typescript
use: {
  video: 'on-first-retry', // or 'on', 'off', 'retain-on-failure'
}
```

## Evidence Locations

| Artifact | Location | Format |
|----------|----------|--------|
| Screenshots | `test-results/` | PNG |
| Traces | `test-results/` | ZIP (viewable via Playwright CLI) |
| Video | `test-results/` | WebM |
| HTML Report | `playwright-report/` | HTML (viewable via `npx playwright show-report`) |

## Configuration

All evidence settings are in `playwright.config.ts`, not in sentinel config. Sentinel's `setup` command generates a Playwright config with sensible defaults:

```typescript
// playwright.config.ts (generated by qa-sentinel:setup)
import { defineConfig } from '@playwright/test';

export default defineConfig({
  use: {
    screenshot: 'only-on-failure',
    trace: 'on-first-retry',
    video: 'on-first-retry',
  },
  reporter: [['html', { outputFolder: 'playwright-report' }]],
});
```

Adjust these settings directly in `playwright.config.ts` for your project's needs.

## Viewing Evidence

- **HTML Report**: `npx playwright show-report` — opens browser with interactive test results, inline screenshots, and trace viewer links
- **Traces**: `npx playwright show-trace test-results/<test>/trace.zip` — step-by-step execution replay with DOM snapshots and network activity
- **Screenshots**: Browse `test-results/` directory directly

## Sentinel's Relationship to Evidence

Sentinel reads Playwright's evidence during `audit`:

- Parses the HTML report (`playwright-report/index.html`) for pass/fail status per test
- References failed test screenshots in the audit report output
- Does not capture, manage, or organize evidence itself

The audit report links to Playwright's artifacts by referencing their standard output paths. No sentinel-specific evidence directory or naming convention is used.
